(this["webpackJsonpshopping-list"]=this["webpackJsonpshopping-list"]||[]).push([[0],{21:function(e){e.exports=JSON.parse('[{"name":"iPhone 12 Pro","price":999,"currency":"USD","store":"amazon","est":"01/01/2021","id":1},{"name":"POCO F2 Pro","price":599,"currency":"USD","store":"mi store","est":"01/12/2020","id":2},{"name":"DJI Mavic 2 Pro Drone","price":1429.99,"currency":"USD","store":"mi store","est":"03/12/2020","id":3}]')},22:function(e){e.exports=JSON.parse('{"a":10000}')},24:function(e,t,n){e.exports=n(37)},29:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(19),l=n.n(c),i=(n(29),n(3)),u=n(1),s=n(7),o=n(11),m=n(14),E=n.n(m),v=n(20),d=n(21),f=n(22),b=r.a.createContext(null),p=function(e){Object(a.useEffect)((function(){function e(){return t.apply(this,arguments)}function t(){return(t=Object(v.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.exchangeratesapi.io/latest?base=USD&symbols=ILS").then((function(e){return e.json()})).then((function(e){g(e.rates)})).catch((function(e){alert("rates are not availabe"),console.log(e)}));case 2:setTimeout((function(){e()}),f.a);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}e()}),[]);var t=Object(a.useState)(d),n=Object(o.a)(t,2),c=n[0],l=n[1],i=Object(a.useState)([]),u=Object(o.a)(i,2),s=u[0],m=u[1],p=Object(a.useState)([]),h=Object(o.a)(p,2),S=h[0],O=h[1],y=Object(a.useState)(null),j=Object(o.a)(y,2),I=j[0],g=j[1],C={availableItemsStore:{availableItems:c,setAvailableItems:l},cartStore:{cart:s,setCart:m},receivedStore:{received:S,setReceived:O},ratesStore:{rates:I,setRates:g}};return r.a.createElement(b.Provider,{value:C},e.children)},h=function(e){var t=Object(a.useContext)(b).ratesStore.rates,n="";return t&&(n=(e.price*t.ILS).toFixed(2)+" ILS"),r.a.createElement("div",{className:"item"},r.a.createElement("div",null,r.a.createElement("b",null,"Item Name:")," ",e.name),r.a.createElement("div",null,r.a.createElement("b",null,"Store Name:")," ",e.store),r.a.createElement("div",null,r.a.createElement("b",null,"Price:")," ",e.price," (",e.currency," Only) ",n&&r.a.createElement("span",null,"/ ",n)),r.a.createElement("div",null,r.a.createElement("b",null,"Delivery EST Date:")," ",e.est))},S=function(e){var t=Object(a.useContext)(b).ratesStore.rates;return r.a.createElement("div",{className:"single-item"},r.a.createElement("b",null,e.name),": ",e.sum," ",e.currency,t&&r.a.createElement("span",null," / ",(e.sum*t.ILS).toFixed(2)," ILS"))},O=function(){var e=Object(a.useContext)(b).cartStore.cart;return Object(s.a)(new Set(e.map((function(e){return e.store})))).map((function(t){var n=e.filter((function(e){return e.store===t})),a=n.reduce((function(e,t){return e+t.price}),0),r=n[0].currency;return{name:t,sum:a,currency:r}})).map((function(e,t){return r.a.createElement(S,Object.assign({},e,{key:t}))}))},y=function(){var e=Object(a.useContext)(b),t=e.receivedStore,n=e.cartStore,c=n.cart,l=n.setCart,o=t.setReceived;return r.a.createElement("div",null,r.a.createElement("h3",null,"Bought Items"),r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(i.b,{activeClassName:"active",to:"/list/items"},"Items")),r.a.createElement("li",null,r.a.createElement(i.b,{activeClassName:"active",to:"/list/stores"},"Stores")))),r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/list/items"},c.length>0&&r.a.createElement("ul",null,c.sort((function(e,t){return new Date(e.est)-new Date(t.est)})).map((function(e){return r.a.createElement("div",{className:"single-item",key:e.id},r.a.createElement(h,e),r.a.createElement("button",{type:"button",onClick:function(){return function(e){var t={name:e.name,price:e.price,currency:e.currency,store:e.store,est:e.est,id:e.id};l((function(t){return t.filter((function(t){return t.id!==e.id}))})),o((function(e){return[].concat(Object(s.a)(e),[t])}))}(e)}},"Received"))})))),r.a.createElement(u.a,{path:"/list/stores"},r.a.createElement(O,null))))))},j=function(){var e=Object(a.useContext)(b).receivedStore.received;return Object(s.a)(new Set(e.map((function(e){return e.store})))).map((function(t){var n=e.filter((function(e){return e.store===t})),a=n.reduce((function(e,t){return e+t.price}),0),r=n[0].currency;return{name:t,sum:a,currency:r}})).map((function(e,t){return r.a.createElement(S,Object.assign({},e,{key:t}))}))},I=function(){var e=Object(a.useContext)(b).receivedStore.received;return r.a.createElement("div",null,r.a.createElement("h3",null,"Received Items"),r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(i.b,{activeClassName:"active",to:"/received/items"},"Items")),r.a.createElement("li",null,r.a.createElement(i.b,{activeClassName:"active",to:"/received/stores"},"Stores")))),r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/received/items"},e.length>0&&r.a.createElement("ul",null,e.map((function(e){return r.a.createElement("div",{className:"single-item",key:e.id},r.a.createElement(h,e))})))),r.a.createElement(u.a,{path:"/received/stores"},r.a.createElement(j,null))))))},g=function(){var e=Object(a.useContext)(b),t=e.availableItemsStore,n=e.cartStore.setCart,c=t.availableItems,l=t.setAvailableItems;return c.length>0&&r.a.createElement("div",null,r.a.createElement("h3",null,"Available Items"),c.map((function(e){return r.a.createElement("div",{className:"single-item",key:e.id},r.a.createElement(h,e),r.a.createElement("button",{type:"button",onClick:function(){return function(e){var t={name:e.name,price:e.price,currency:e.currency,store:e.store,est:e.est,id:e.id};n((function(e){return[].concat(Object(s.a)(e),[t])})),l((function(t){return t.filter((function(t){return t.id!==e.id}))}))}(e)}},"add to cart"))})))};n(36);var C=function(){return r.a.createElement(p,null,r.a.createElement("div",{className:"container"},r.a.createElement(i.a,{basename:"/"},r.a.createElement("div",null,r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(i.b,{to:"/availableItems"},"Available Items")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/list/items"},"List")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/received/items"},"Received")))),r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/list"},r.a.createElement(y,null)),r.a.createElement(u.a,{path:"/received"},r.a.createElement(I,null)),r.a.createElement(u.a,{path:"/availableItems"},r.a.createElement(g,null)))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.1ef59eac.chunk.js.map